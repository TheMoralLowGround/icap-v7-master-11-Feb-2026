openapi: 3.0.1
info:
  title: DHL Freight Shipment Booking API
  version: '1.7 (2025/R06)'
  description: >-
    Creating domestic and international palletized road freight transport orders (> 35 kg) across Europe with DHL Freight for existing DHL Freight business customers with a valid contract.
    Please refer Downloads section for more information.
  contact:
    email: api4freight@dhl.com
paths:
  /sendtransportinstruction:
    post:
      tags:
        - ShipmentBooking
      operationId: TransportInstructionSendTransportInstructionPost
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Shipment'
        required: false
      responses:
        '200':
          description: SendTransportInstruction response success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransportInstructionResponseSuccess'
        '400':
          description: SendTransportInstruction response error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransportInstructionResponseError'
components:
  schemas:
    Shipment:
      required:
        - parties
        - payerCode
        - pieces
        - productCode
      type: object
      properties:
        id:
          maxLength: 13
          type: string
          description: >
            The shipment's tracking id: The unique number that ensures that packages are not separated from each other during transport from one point to another.
            Leave empty to get it assigned automatically.
          example: ''
        productCode:
          maxLength: 3
          type: string
          description: 
            See the Product Manual for available options. 
            You can also use GET /products to see available product for your region.
            With POST /productmatches you can validate which products fit to your shipment details.
          example: 'ECI'
        pickupDate:
          type: string
          description: 
            Used with **DHL Eurapid** and **DHL EuroConnect**. The earliest
            pickup date. Depending on booking deadline and availability the
            pickup date may be altered by DHL Freight.
          format: date
        requestedDeliveryDate:
          type: string
          description: 
            Required with **DHL Eurapid** and Commited Delivery Date (CDD).
          format: date
        pickupInstruction:
          maxLength: 512
          type: string
        deliveryInstruction:
          maxLength: 512
          type: string
        totalNumberOfPieces:
          maximum: 999
          type: integer
          format: int32
          example: 1
        totalWeight:
          maximum: 99999
          type: number
          description: The shipment total weight weight in kg
          format: double
          example: 380
        totalVolume:
          maximum: 999
          type: number
          description: The shipment total volume in m³
          format: double
          example: 0.864
        totalLoadingMeters:
          maximum: 99
          type: number
          description: 
            A loading meter (LDM) is 1 meter of the loading space of a truck's
            width and full height. Usually calculated for goods that cannot be
            stacked on or with other goods.
          format: double
        totalPalletPlaces:
          maximum: 999
          type: number
          description: >
            Pallet place (PPL) is based on the dimensions of a EUR pallet: 120
            x 80 cm. Usually calculated for goods that cannot be stacked on or
            with other goods. 1 PLL =  0.4 LDM.
          format: double
        goodsDescription:
          maxLength: 70
          type: string
          description: Goods description on shipment level. On piece level also a description can be provided with goodsType
        goodsValue:
          maximum: 9999999
          type: number
          description: Goods value in monetary
        goodsValueCurrency:
          maxLength: 3
          type: string
          description: ISO 4217 codes are three-letter currency codes
          example: 'EUR'
        references:
          maxItems: 99
          type: array
          items:
            $ref: '#/components/schemas/Reference'
        payerCode:
          $ref: '#/components/schemas/PayerCode'
        parties:
          maxItems: 6
          minItems: 2
          type: array
          items:
            $ref: '#/components/schemas/Party'
        pieces:
          maxItems: 999
          type: array
          items:
            $ref: '#/components/schemas/Piece'
        additionalServices:
          $ref: '#/components/schemas/AdditionalServicesDTO'
        additionalInformation:
          maxItems: 99
          type: array
          items:
            $ref: '#/components/schemas/AdditionalInformation' 
    Reference:
      required:
        - qualifier
        - value
      type: object
      properties:
        qualifier:
          maxLength: 3
          type: string
          enum:
            - CNR
            - CNZ
            - INV
          description: >
            Only use agreed qualifier codes: 
            CNR = Consignor
            CNZ = Consignee
            INV = Invoice
          example: 'CNR'
        value:
          maxLength: 35
          type: string
          example: Consignor-Ref123
    PayerCode:
      required:
        - code
      type: object
      properties:
        code:
          maxLength: 3
          type: string
          description: 
            See the Product Manual for available options (DAP, DDP, EXW, CIP) based on selected product.
            You can also use GET /products {productCode} to see available payer codes
            for your product.
          example: 'DAP'
        location:
          maxLength: 17
          type: string
          example: ''
    Party:
      required:
        - address
        - name
        - type
      type: object
      properties:
        id:
          maxLength: 15
          type: string
          description: 
            For a consignor, consignee or freight payer the customer account number.
            Mandatory for the party that according to the payer code will be freight payer.
        type:
          maxLength: 15
          type: string
          enum:
            - Consignor
            - Pickup
            - Consignee
            - Delivery
        vatEoriSocialSecurityNumber:
          maxLength: 20
          type: string
          description: 
            EORI as Economic Operators Registration and Identification; Used for customs identification when importing or exporting goods to/from the EU and issued by customs authorities in the EU member state for import-export-transit, in order to use for customer clearance.
          example: ''
        name:
          maxLength: 70
          type: string
        contactName:
          maxLength: 40
          type: string
        address:
          $ref: '#/components/schemas/Address'
        phone:
          maxLength: 64
          type: string
        email:
          maxLength: 64
          type: string
        vat:
          $ref: '#/components/schemas/PartyVAT'
    PartyVAT:
      type: object
      description: According some countries (eg Greece) legislation for ALL transport to and from etc, VAT (Value Added Tax) or TAX ID is required to identification and compliance within the EU for tax compliance. This data issued by national tax authorities in each EU member state.
      properties:
        countryCode:
          type: string
          description: Under referenced legislation; the VAT country prefix as general the country 2 or 3 letters ISO code like CHE for Switzerland and EL for Greece.
          example: 'TR'
          maxLength: 3
        number:
          type: string
          description: Under referenced legislation; the number part of the VAT, can include characters depending on the countries specific format.
          example: '1X123456789'
          maxLength: 11
      additionalProperties: false
    AdditionalServicesDTO:
      type: object
      properties:
        cashOnDelivery:
          $ref: '#/components/schemas/CashOnDeliveryOptions'
        dangerousGoods:
          type: boolean
          example: false
        insurance:
          $ref: '#/components/schemas/InsuranceOptions'
        highValueShipment:
          $ref: '#/components/schemas/HighValueShipmentOptions'
        preAdvice:
          type: boolean
          example: false
        tailLiftLoading:
          type: boolean
          example: false
        tailLiftUnloading:
          type: boolean
          example: false
        sideLoadingPickup:
          type: boolean
          example: false
        sideUnloadingDelivery:
          type: boolean
          example: false
        thermoCold:
          $ref: '#/components/schemas/ThermoColdOptions'
        timeSlotBookingPickup:
          type: boolean
          example: false
        timeSlotBookingDelivery:
          type: boolean
          example: false
        fixedDeliveryDate:
          $ref: '#/components/schemas/FixedDeliveryDateOptions'
        priorityServiceP10:
          type: boolean
          example: false
        priorityServiceP12:
          type: boolean
          example: false
        dropOffByConsignor:
          type: boolean
          example: false
        after12Delivery:
          type: boolean
          example: false
        availablePickupTime:
          $ref: '#/components/schemas/AvailablePickupDeliveryTimeOptions'
        availableDeliveryTime:
          $ref: '#/components/schemas/AvailablePickupDeliveryTimeOptions'           
    Piece:
      required:
        - numberOfPieces
        - packageType
        - weight
      type: object
      properties:
        id:
          type: array
          description: >
            The SSCC (Serial Shipping Container Code) a unique GS1/GS1-128
            number, used to identify a logistic unit, such as a case, pallet or
            parcel. Leave empty to get it assigned automatically.
          example: []
          items:
            maxLength: 35
            type: string
        goodsType:
          maxLength: 70
          type: string
          description: Description of goods on cargo detail level.
        packageType:
          maxLength: 4
          type: string
          example: 'PAL'
          description: >
            See the Product Manual for available options based on
            selected product. You can also use GET / packageTypes {productCode} to receive the allowed
            package types for your selected product
        marksAndNumbers:
          maxLength: 45
          type: string
        numberOfPieces:
          maximum: 999
          minimum: 1
          type: integer
          format: int32
          example: 1
        weight:
          maximum: 99999
          type: number
          description: Item weight in kg
          format: double
          example: 380
        volume:
          maximum: 999
          type: number
          description: Item volume in m³
          format: double
          example: 0.864
        loadingMeters:
          maximum: 99
          type: number
          format: double
        palletPlaces:
          maximum: 999
          type: number
          format: double
        width:
          maximum: 999
          type: number
          description: Item width in cm
          format: double
          example: 80
        height:
          maximum: 999
          type: number
          description: Item height in cm
          format: double
          example: 90
        length:
          maximum: 9999
          type: number
          description: Item length in cm
          format: double
          example: 120
        stackable:
          type: boolean
        dangerousGoods:
          maxItems: 999
          type: array
          items:
            $ref: '#/components/schemas/DangerousGoods'
    AdditionalInformation:
      type: object
      properties:
        code:
          type: string
          enum:
            - EKAER_FREE
            - EKAER_NUMBER
            - SENT_REF
            - SENT_CARKEY
            - UIT_FREE
            - UIT_NUMBER
          description: >
            Contains predefined code values (see enumerator) to handle country specific shipment fields for legal requirements.
            e.g. Hungarian EKAER (EKAER_FREE, EKAER_NUMBER), Polish SENT (SENT_REF,SENT_CARKEY), Romanian UIT (UIT_FREE, UIT_NUMBER)
          example: 'EKAER_NUMBER'
        stringValue:
          type: string
          description: >
            Contains the content/value for the respective code.
            For EKAER_NUMBER: provide the Hungarian EKAER number and omit EKAER_FREE.
            For EKAER_FREE: provide true or false. If true, omit EKAER_NUMBER.
            For SENT_REF: provide the Polish SENT system reference value.
            For SENT_CARKEY: provide the Polish SENT carrier key
            For UIT_FREE:indicate if this is UIT free
            For UIT_NUMBER: indicate UIT number
          example: 'E23022311111111'
        dateValue:
          type: string
          format: date-time
        numericValue:
          type: number
          format: double
    Address:
      required:
        - street
        - cityName
        - postalCode
        - countryCode
      type: object
      properties:
        street:
          maxLength: 40
          type: string
          description: 
            Provide both street name and house number in this field.
        additionalAddressInfo:
          maxLength: 40
          type: string
        cityName:
          maxLength: 40
          type: string
        postalCode:
          maxLength: 12
          type: string
          description: 
            For Ireland (IE) EirCode is not supported, use COUNTY NAME as Postal code.
        countryCode:
          maxLength: 2
          type: string
          description: >
            ISO 3166-1 are two-letter country codes 
          example: 'DE'
    CashOnDeliveryOptions:
      required:
        - amount
        - currency
      type: object
      properties:
        amount:
          type: integer
          format: int64
          example: 475
        currency:
          maxLength: 3
          type: string
          description: >
            ISO 4217 codes are three-letter currency codes
          example: 'EUR'
    InsuranceOptions:
      required:
        - currency
        - value
      type: object
      properties:
        value:
          type: number
          format: double
        currency:
          maxLength: 3
          type: string
          description: >
            ISO 4217 codes are three-letter currency codes
          example: 'EUR'
    HighValueShipmentOptions:
      required:
        - currency
        - value
      type: object
      properties:
        value:
          type: number
          format: double
        currency:
          maxLength: 3
          type: string
          description: >
            ISO 4217 codes are three-letter currency codes
          example: 'EUR'
    ThermoColdOptions:
      type: object
      properties:
        min:
          type: number
          format: double
        max:
          type: number
          format: double
    FixedDeliveryDateOptions:
      required:
        - date
      type: object
      properties:
        date:
          type: string
          format: date
    AvailablePickupDeliveryTimeOptions:
      required:
        - time
      type: object
      description: >
            Use this time frame for indicating pickup/delivery location’s opening hours or when your goods are available for pickup. For a fixed aligned pickup/delivery time slot window, please use the respective additional services time slot booking    
      properties:
        fromTime:
          type: string
          format: time
          example: '09:30'
        toTime:
          type: string
          format: time
          example: '14:30'
    DangerousGoods:
      required:
        - unNumber
        - properShippingName
        - adrClass
        - tunnelCode
        - grossWeight
        - numberOfPieces
        - packageType
      type: object
      properties:
        dgmId:
          type: integer
          format: int32
          description:
            Unique ADR identification. Only relevant if you use the vendor DG Office for ADR. If not then leave empty/omit. 
        adrClass:
          maxLength: 7
          type: string
          example: "4.2"
          description:
            ADR Class is mandatory, but can be left empty for limited quantities (LQ) and excepted quantities (EQ)  
        unNumber:
          type: integer
          format: int32
          example: "1380"
        properShippingName:
          maxLength: 45
          type: string
          example: "PENTABORANE"
          description:
            The Proper Shipping Name (PSN) is that portion of the ADR entry most accurately describing the goods in. 
        flashpointValue:
          maximum: 999
          type: number
          format: double
          description: in degrees Celsius
        packageGroup:
          maxLength: 3
          type: string
          example: "I"
          description:
            Official ADR package group codes I, II, III or blanks
        tunnelCode:
          maxLength: 6
          type: string
          example: "B/E"
        grossWeight:
          type: number
          format: double
        quantityMeasurementUnitQualifier:
          type: string
          enum:
            - KG
            - LTR
          description:
            KG or LTR
          example: "KG"
        quantityMeasurementValue:
          type: number
          format: double
        numberOfPieces:
          type: integer
          format: int32
        packageType:
          maxLength: 5
          type: string
          description:
            Official ADR Packaging code 
          example: "1B2"
        officialNameTechDescription:
          maxLength: 256
          type: string
          description:
            This is the additional technical name, only when required for UN-number with N.O.S.
            Not Otherwise Specified, so additional chemical substance name is then required.
        marinePollutant:
          type: boolean
        marinePollutantName:
          maxLength: 45
          type: string
        exceptedQuantity:
          type: boolean
        limitedQuantity:
          type: boolean
        emptyContainer:
          type: boolean
        environmentHazardous:
          type: boolean
        waste:
          type: boolean
    TransportInstructionResponseSuccess:
      type: object
      properties:
        status:
          type: string
        shipment:
          $ref: '#/components/schemas/Shipment'
    TransportInstructionResponseError:
      type: object
      properties:
        status:
          type: string
        validationErrors:
          type: array
          items:
            $ref: '#/components/schemas/IValidationError'
    IValidationError:
      type: object
      properties:
        field:
          type: string
          readOnly: true
        errorCode:
          type: integer
          format: int32
          readOnly: true
        message:
          type: string
          readOnly: true
        incompatibleFields:
          type: array
          readOnly: true
          items:
            type: string
# 1) Define the security scheme type (HTTP bearer)
  securitySchemes:
    bearerAuth:            # arbitrary name for the security scheme
      type: http
      scheme: bearer
      bearerFormat: JWT    # optional, arbitrary value for documentation purposes
# 2) Apply the security globally to all operations
security:
  - bearerAuth: []         # use the same name as above
servers:
  - url: https://api-sandbox.dhl.com/freight/shipping/orders/v1
    description: Customer Sandbox Environment
  - url: https://api.dhl.com/freight/shipping/orders/v1
    description: Customer Production Environment